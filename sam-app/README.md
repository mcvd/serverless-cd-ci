# SAM-APP 

Provide a guidance & inspiration on how to use AWS SAM to develop a simplified development workflows, supporting both ECS/EKS Container and Lambda functions ðŸŽ¯ðŸš€ðŸŒ¥

* [x] [AWS Local Development](https://devsecops.job4u.io/en/serverless/sam-local)
    
* [x] [Deploy the SAM application](https://devsecops.job4u.io/en/serverless/manual-deploy)

    ```
    cd sam-app
    ./deploy.sh
    ```

* [x] Directory Structure

    - |-- `docker` - Code for the application's Lambda function and Project Dockerfile.
    - |-- `events` - Invocation events that you can use to invoke the function.
    - |-- `docker/tests` - Unit tests for the application code. 
    - |-- `template.yml` - A template that defines the application's AWS resources.

* [x] Use the AWS SAM CLI to build and test locally

    ```
    sam local invoke CrawlFunction --event events/event.json
    ```

* [x] Use the AWS SAM CLI to emulate your application's API. 

    ```
    sam local start-api
    curl localhost:3000/crawl
    ```

* [x] Fetch, tail, and filter Lambda function logs

    The AWS SAM CLI has a command called [`sam logs`](https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-logging.html) to lets you fetch logs that are generated by your Lambda function from the command line. **NOTE:** This command works for all Lambda functions, not just the ones you deploy using AWS SAM.
    
    ```bash
    sam logs -n CrawlFunction --stack-name sam-app --tail
    ```

* [x] Tests

    Tests are defined in the `__tests__` folder in this project, using the [Jest test framework](https://jestjs.io/) and run tests.
    
    ```bash
    cd docker
    npm install
    npm run test
    ```

* [x] Cleanup

    To delete the sample application that you created, use the AWS CLI. Assuming you used your project name for the stack name, you can run the following:
    
    ```bash
    aws cloudformation delete-stack --stack-name sam-app
    ```